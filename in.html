<html>

<head>
    <title>Image Loader Test</title>





    <script type="text/javascript">
        //http://stackoverflow.com/questions/805107/creating-multiline-strings-in-javascript
        function mlString(f) {
            return f.toString().
            replace(/^[^\/]+\/\*!?/, '').
            replace(/\*\/[^\/]+$/, '');
        }

        function run_onload() {
            console.log("Running tests...");
            var filenames = g_FOLDER_CONTENTS.match(/\S+/g);
            var fragment = document.createDocumentFragment();
            for (var i = 0; i < filenames.length; ++i) {
                var extension = filenames[i].substring(filenames[i].length - 3);
                if (extension == "jpg" || extension == "png" || extension == "jpeg") {
                    var image = document.createElement("img");
                    image.src = "images/" + filenames[i];
                    image.width = "600";
                    fragment.appendChild(image);
                }
            }
            document.getElementById("image_div").appendChild(fragment);
        }
    </script>
    <script type="text/javascript" src="folder_contents.js"></script>
</head>

<body onload="run_onload()" style="background-color:black;color:white;text-align:center">

    <p>Load images from a folder on a local machine.</p>
    <hr>
    <div id="image_div"></div>
    echo off echo var g_FOLDER_CONTENTS = mlString(function() { /*! > folder_contents.js dir /B images >> folder_contents.js echo */ }); >> folder_contents.js index.html

</body>

</html>
